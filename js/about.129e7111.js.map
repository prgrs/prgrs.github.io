{"version":3,"sources":["webpack:///./src/views/Login.vue?810f","webpack:///./src/views/Login.vue?0711","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?31f5","webpack:///./src/views/Login.vue","webpack:///./src/views/About.vue?dec5","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?f8c3","webpack:///./src/views/About.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","login","staticRenderFns","methods","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","credential","user","accessToken","addUserToDB","$router","push","catch","error","code","message","email","ref","set","mail","name","displayName","db","uid","once","snaphsot","exists","setUserData","component","getUrl","_s","id","String","ready","onAuthStateChanged","to","from","next","vm"],"mappings":"uGAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACJ,EAAIO,GAAG,yDAAyDH,EAAG,YAAY,CAACE,YAAY,MAAME,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAUC,GAAG,CAAC,MAAQT,EAAIU,QAAQ,CAACV,EAAIO,GAAG,wBAAwB,IAC1UI,EAAkB,G,YCaP,GACbC,QAAS,CACP,QACE,IAAIC,EAAW,IAAI,OAASC,KAAKC,mBACjC,OACGD,OACAE,gBAAgBH,GAChBI,KAAKC,IAEJ,IAAIC,EAAaD,EAAOC,WAKpBC,GAFQD,EAAWE,YAEZH,EAAOE,MAElBnB,KAAKqB,YAAYF,GAEjBnB,KAAKsB,QAAQC,KAAK,OAEnBC,MAAMC,IACWA,EAAMC,KACHD,EAAME,QAEbF,EAAMG,MAEDH,EAAMP,cAG7B,YAAYC,EAAMU,GAChBA,EAAIC,IAAI,CACJC,KAAMZ,EAAKS,MACXI,KAAMb,EAAKc,cAEZjB,KAAK,QAGLQ,MAAM,SAIX,YAAYL,GACV,IAAIU,EAAMK,GAAGL,IAAI,SAAWV,EAAKgB,KACpCN,EAAIO,KAAK,SAASpB,KAAMqB,IACdA,EAASC,UACZtC,KAAKuC,YAAYpB,EAAMU,QC3D6J,I,wBCQ1LW,EAAY,eACd,EACA1C,EACAY,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E,kDCnBf,IAAI1C,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,OAAO,CAACI,MAAM,CAAC,KAAO,WAAW,QAAU,0CAA0CJ,EAAG,KAAK,CAACJ,EAAIO,GAAG,yCAA0CP,EAAS,MAAEI,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,8BAA8BH,EAAG,MAAM,CAACA,EAAG,IAAI,CAACI,MAAM,CAAC,GAAK,MAAM,KAAOR,EAAI0C,WAAW,CAAC1C,EAAIO,GAAG,2BAA2BP,EAAI2C,GAAG3C,EAAI0C,eAAetC,EAAG,YAAY,CAACE,YAAY,MAAME,MAAM,CAAC,MAAQ,QAAQ,KAAO,SAAS,YAAY,OAAO,KAAOR,EAAI0C,WAAW,CAAC1C,EAAIO,GAAG,gBAAgB,GAAGH,EAAG,aAAa,CAACE,YAAY,SAAS,IACpoBK,EAAkB,G,YCwBP,GACb,OACE,MAAO,CACLiC,GAAIC,OACJC,OAAO,IAGXlC,QAAS,CACP,SACE,MAAO,SAAWX,KAAK2C,KAG3B,UACE,OAAS9B,OAAOiC,mBAAmB3B,IAC7BA,GACFnB,KAAK2C,GAAKxB,EAAKgB,IACfnC,KAAK6C,OAAQ,GAGb7C,KAAK2C,GAAK,MAIhB,iBAAiBI,EAAIC,EAAMC,GACzBA,EAAKC,IACH,OAASrC,OAAOiC,mBAAmB3B,IAC7BA,EACF8B,IAEAC,EAAG5B,QAAQC,KAAK,gBCtDoK,I,YCO1LiB,EAAY,eACd,EACA1C,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAA8B,E","file":"js/about.129e7111.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=5ef8ee80&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('p',[_vm._v(\" Please Login with your Google account to continue \")]),_c('gb-button',{staticClass:\"m-3\",attrs:{\"color\":\"white\",\"size\":\"medium\"},on:{\"click\":_vm.login}},[_vm._v(\"Login with Google\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <p>\n      Please Login with your Google account to continue\n    </p>\n    <gb-button class=\"m-3\" color=\"white\" size=\"medium\" @click=\"login\"\n      >Login with Google</gb-button\n    >\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase\";\n\nexport default {\n  methods: {\n    login() {\n      var provider = new firebase.auth.GoogleAuthProvider();\n      firebase\n        .auth()\n        .signInWithPopup(provider)\n        .then(result => {\n          /** @type {firebase.auth.OAuthCredential} */\n          var credential = result.credential;\n\n          // This gives you a Google Access Token. You can use it to access the Google API.\n          var token = credential.accessToken;\n          // The signed-in user info.\n          var user = result.user;\n          // FIXME: debug\n          this.addUserToDB(user);\n\n          this.$router.push(\"/\");\n        })\n        .catch(error => {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n          // The email of the user's account used.\n          var email = error.email;\n          // The firebase.auth.AuthCredential type that was used.\n          var credential = error.credential;\n        });\n    },\n    setUserData(user, ref) {\n      ref.set({\n          mail: user.email,\n          name: user.displayName\n        })\n        .then(() => {\n          //console.log(\"Success\");\n        })\n        .catch(() => {\n          //console.error(\"Error\");\n        });\n    },\n    addUserToDB(user) {\n      var ref = db.ref(\"users/\" + user.uid);\n\t\t\tref.once(\"value\").then((snaphsot) => {\n        if (!snaphsot.exists()) { // if user not already registered\n          this.setUserData(user, ref);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped=\"\">\n.container {\n}\np {\n  color: #fff;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5ef8ee80&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=5ef8ee80&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ef8ee80\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about container\"},[_c('meta',{attrs:{\"name\":\"viewport\",\"content\":\"width=device-width, inital-scale=1.0\"}}),_c('h3',[_vm._v(\"Track your progress and share them!\")]),(_vm.ready)?_c('div',[_c('p',[_vm._v(\"Your public profile url:\")]),_c('div',[_c('a',{attrs:{\"id\":\"url\",\"href\":_vm.getUrl()}},[_vm._v(\" https://prgrs.github.io\"+_vm._s(_vm.getUrl()))])]),_c('gb-button',{staticClass:\"m-3\",attrs:{\"color\":\"white\",\"size\":\"medium\",\"left-icon\":\"link\",\"href\":_vm.getUrl()}},[_vm._v(\"Open link\")])],1):_c('gb-spinner',{staticClass:\"m-4\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about container\">\n    <meta name=\"viewport\" content=\"width=device-width, inital-scale=1.0\" />\n    <h3>Track your progress and share them!</h3>\n    <div v-if=\"ready\">\n      <p>Your public profile url:</p>\n      <div>\n        <a id=\"url\" :href=\"getUrl()\"> https://prgrs.github.io{{ getUrl() }}</a>\n      </div>\n      <gb-button\n        class=\"m-3\"\n        color=\"white\"\n        size=\"medium\"\n        left-icon=\"link\"\n        :href=\"getUrl()\"\n        >Open link</gb-button\n      >\n    </div>\n    <gb-spinner v-else class=\"m-4\" />\n  </div>\n</template>\n\n<script>\nimport firebase from \"firebase\";\n\nexport default {\n  data() {\n    return {\n      id: String,\n      ready: false\n    };\n  },\n  methods: {\n    getUrl() {\n      return \"/u?id=\" + this.id;\n    }\n  },\n  created() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.id = user.uid;\n        this.ready = true;\n      } else {\n        //TODO\n        this.id = \"\";\n      }\n    });\n  },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      firebase.auth().onAuthStateChanged(user => {\n        if (user) {\n          next();\n        } else {\n          vm.$router.push(\"/login\");\n        }\n      });\n    });\n  }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=286e4590&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}